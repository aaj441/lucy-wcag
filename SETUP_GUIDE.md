# 🚀 Quick Setup Guide - Lucy WCAG on Railway

## Current Status

✅ **CI/CD Infrastructure Complete**
- GitHub Actions workflow configured
- Railway project connected
- Automated deployment pipeline ready

⚠️ **Next Step Required**
- Add your Vite/React application source code

---

## Step-by-Step Setup

### 1. Clone the Repository

```bash
git clone https://github.com/aaj441/lucy-wcag.git
cd lucy-wcag
```

### 2. Create Your Vite/React App Structure

You need to add these files to the repository:

#### Required Project Structure:
```
lucy-wcag/
├── .github/
│   └── workflows/
│       └── main.yml          ✅ Already configured
├── src/                     ❌ Need to add
│   ├── App.jsx
│   ├── main.jsx
│   └── ... (your React components)
├── public/                  ❌ Need to add
├── index.html               ❌ Need to add
├── package.json             ❌ Need to add
├── package-lock.json        ❌ Need to add
├── vite.config.js           ❌ Need to add
├── railway.json             ✅ Already configured
└── README.md                ✅ Already configured
```

### 3. Sample package.json

Create a `package.json` file with this structure:

```json
{
  "name": "lucy-wcag",
  "private": true,
  "version": "1.0.0",
  "type": "module",
  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "lint": "eslint . --ext js,jsx --report-unused-disable-directives --max-warnings 0",
    "preview": "vite preview"
  },
  "dependencies": {
    "react": "^18.3.1",
    "react-dom": "^18.3.1",
    "serve": "^14.2.3"
  },
  "devDependencies": {
    "@types/react": "^18.3.3",
    "@types/react-dom": "^18.3.0",
    "@vitejs/plugin-react": "^4.3.1",
    "eslint": "^8.57.0",
    "eslint-plugin-react": "^7.34.3",
    "eslint-plugin-react-hooks": "^4.6.2",
    "eslint-plugin-react-refresh": "^0.4.7",
    "vite": "^5.3.4"
  }
}
```

### 4. Sample vite.config.js

```javascript
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'

export default defineConfig({
  plugins: [react()],
  build: {
    outDir: 'dist',
    sourcemap: true
  },
  server: {
    port: 5173
  }
})
```

### 5. Sample index.html

```html
<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Lucy WCAG Scanner</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html>
```

### 6. Sample src/main.jsx

```jsx
import React from 'react'
import ReactDOM from 'react-dom/client'
import App from './App.jsx'
import './index.css'

ReactDOM.createRoot(document.getElementById('root')).render(
  <React.StrictMode>
    <App />
  </React.StrictMode>,
)
```

### 7. Sample src/App.jsx

```jsx
import { useState } from 'react'

function App() {
  return (
    <div className="App">
      <h1>Lucy WCAG Scanner</h1>
      <p>Production-ready WCAG scanner with ADHD-friendly batching</p>
    </div>
  )
}

export default App
```

### 8. Install Dependencies Locally (Optional)

```bash
npm install
```

### 9. Generate package-lock.json

```bash
npm install  # This creates package-lock.json
```

### 10. Commit and Push

```bash
git add .
git commit -m "Add lucy-wcag Vite/React application source code"
git push origin main
```

---

## What Happens Next (Automatic)

### 1. GitHub Actions Triggers ⏳
```
✅ Checks out your code
✅ Sets up Node.js 20
✅ Runs npm ci (fast, clean install)
✅ Runs npm run build
✅ Runs linter and tests (if available)
✅ Marks build as successful
```

### 2. Railway Deploys 🚀
```
✅ Detects successful CI
✅ Clones your repository
✅ Installs dependencies
✅ Runs build command
✅ Starts server with npx serve
✅ Makes app live at: https://lucy-wcag-production.up.railway.app
```

---

## Alternative: Start with Vite Template

If you want to start fresh:

```bash
# Create a new Vite app
npm create vite@latest temp-app -- --template react
cd temp-app

# Install dependencies
npm install
npm install serve --save

# Copy files to your lucy-wcag repo
cp -r * ../lucy-wcag/
cd ../lucy-wcag

# Commit and push
git add .
git commit -m "Initialize Vite/React application"
git push origin main
```

---

## Verification Checklist

Before pushing, ensure you have:

- [ ] `package.json` with all dependencies
- [ ] `package-lock.json` (generated by npm install)
- [ ] `vite.config.js` with proper configuration
- [ ] `index.html` at project root
- [ ] `src/main.jsx` entry point
- [ ] `src/App.jsx` main component
- [ ] Build script in package.json: `"build": "vite build"`

---

## Monitoring Your Deployment

### GitHub Actions
- URL: https://github.com/aaj441/lucy-wcag/actions
- Watch for green checkmarks ✅
- Click on runs to see detailed logs

### Railway Dashboard
- URL: https://railway.com/project/fbe961f3-e59e-4e75-b466-8f91a69dc954/service/44d212c3-1dd2-4a8b-a96c-5477c351302c
- Monitor deployment progress
- View build and runtime logs

### Live Application
- URL: https://lucy-wcag-production.up.railway.app
- Will be live after successful deployment

---

## Troubleshooting

### CI Fails: "lock file not found"
**Solution:** Commit `package-lock.json`
```bash
npm install  # Generates package-lock.json
git add package-lock.json
git commit -m "Add package-lock.json"
git push
```

### CI Fails: "npm run build failed"
**Solution:** Test build locally first
```bash
npm install
npm run build
# Fix any errors
git commit -am "Fix build errors"
git push
```

### Railway Deployment Skipped
**Solution:** This is normal! Railway waits for CI to pass
- Check GitHub Actions first
- Fix any CI failures
- Railway will auto-deploy once CI is green

### App Returns 404
**Solution:** Check the start command
- Verify `dist/` directory exists after build
- Ensure `npx serve -s dist -l 3000` in start command

---

## Environment Variables

To add environment variables:

1. Go to Railway dashboard
2. Select lucy-wcag service
3. Click **Variables** tab
4. Add your variables (e.g., `VITE_API_URL`)
5. Redeploy for changes to take effect

---

## Support

- **GitHub Issues**: [Report bugs or request features](https://github.com/aaj441/lucy-wcag/issues)
- **Railway Docs**: https://docs.railway.app
- **Vite Docs**: https://vitejs.dev

---

## Summary

✅ CI/CD is fully configured and ready✅ Just add your Vite/React app files✅ Push to main branch✅ Watch it deploy automatically✅ Access at https://lucy-wcag-production.up.railway.app

That's it! Your CI/CD pipeline is production-ready. 🎉
